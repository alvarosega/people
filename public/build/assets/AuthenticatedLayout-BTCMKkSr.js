import{r as o,j as e,L as g,c as h}from"./app-wHq-iQ3F.js";import{z as y}from"./transition-DmDNRT49.js";import{T as p}from"./ThemeToggle-CmOVN8g3.js";const f=o.createContext(),l=({children:t})=>{const[r,s]=o.useState(!1),a=()=>{s(n=>!n)};return e.jsx(f.Provider,{value:{open:r,setOpen:s,toggleOpen:a},children:e.jsx("div",{className:"relative",children:t})})},N=({children:t})=>{const{open:r,setOpen:s,toggleOpen:a}=o.useContext(f);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,children:t}),r&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},w=({align:t="right",width:r="48",contentClasses:s="py-1 bg-white",children:a})=>{const{open:n,setOpen:c}=o.useContext(f);let x="origin-top";t==="left"?x="ltr:origin-top-left rtl:origin-top-right start-0":t==="right"&&(x="ltr:origin-top-right rtl:origin-top-left end-0");let m="";return r==="48"&&(m="w-48"),e.jsx(e.Fragment,{children:e.jsx(y,{show:n,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${x} ${m}`,onClick:()=>c(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+s,children:a})})})})},k=({className:t="",children:r,...s})=>e.jsx(g,{...s,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+t,children:r});l.Trigger=N;l.Content=w;l.Link=k;const C="/people/assets/logo-CB6Ntg9C.png";function A({header:t,children:r}){var u,j,v;const s=h().props.auth.user,[a,n]=o.useState(!1),[c,x]=o.useState(!1);o.useEffect(()=>{const b=()=>{x(window.scrollY>10)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const{url:m}=h();return o.useEffect(()=>{n(!1)},[m]),e.jsxs("div",{className:"min-h-screen bg-primary text-text-primary font-sans antialiased flex flex-col",children:[e.jsxs("nav",{className:`sticky top-0 z-50 bg-primary border-b border-gray-200 dark:border-gray-800 transition-all duration-300 ${c?"shadow-dark-card py-0":"py-0"}`,children:[e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"flex md:hidden mr-2",children:e.jsx("button",{onClick:()=>n(!a),className:"inline-flex items-center justify-center rounded-soft p-2 text-text-secondary transition-all duration-200 hover:bg-secondary hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent/50","aria-label":"Abrir menú",children:a?e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),e.jsx(g,{href:"/",className:"flex items-center mx-auto md:mx-0 hover-lift",children:e.jsx("img",{src:C,alt:"Logo",className:"h-7 sm:h-8 md:h-10 w-auto transition-transform duration-200"})})]}),e.jsx("div",{className:"hidden md:flex md:items-center md:space-x-6 mx-8 flex-1 justify-center",children:s.rol==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(d,{href:"/admin",text:"Admin Panel"}),e.jsx(d,{href:"/admin/users",text:"Usuarios"}),e.jsx(d,{href:"/admin/calendar",text:"Calendario"}),e.jsx(d,{href:"/admin/organigrama",text:"Organigrama"})]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{href:"/user",text:"User Panel"}),e.jsx(d,{href:"/user/calendar",text:"Calendario"}),e.jsx(d,{href:"/user/organigrama",text:"Organigrama"})]})}),e.jsxs("div",{className:"flex items-center justify-end flex-1 gap-3",children:[e.jsx("div",{className:"hidden md:flex",children:e.jsx(p,{})}),e.jsx("div",{className:"hidden md:flex",children:e.jsxs(l,{children:[e.jsx(l.Trigger,{children:e.jsxs("button",{type:"button",className:"inline-flex items-center gap-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-secondary px-4 py-2.5 text-[15px] font-semibold leading-4 text-text-primary transition-all duration-200 hover:border-accent hover:shadow-glow focus:outline-none focus:ring-2 focus:ring-accent/40 btn-hover",children:[e.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-text-primary font-medium",children:((u=s==null?void 0:s.nombre)==null?void 0:u.charAt(0).toUpperCase())??"?"}),e.jsx("span",{className:"hidden lg:block",children:s.nombre}),e.jsx("svg",{className:"h-4 w-4 text-text-secondary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),e.jsxs(l.Content,{children:[e.jsxs(l.Link,{href:"/profile",className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Perfil"]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),e.jsxs(l.Link,{href:"/logout",method:"post",as:"button",className:"flex items-center gap-2 text-functional-red hover:text-red-400",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesión"]})]})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx("span",{className:"flex items-center justify-center h-9 w-9 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-text-primary font-medium text-sm",children:((j=s==null?void 0:s.nombre)==null?void 0:j.charAt(0).toUpperCase())??"?"})})]})]})}),a&&e.jsxs("div",{className:"md:hidden fixed inset-0 z-50 animate-scale-in",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20",onClick:()=>n(!1)}),e.jsx("div",{className:"relative bg-primary border-r border-gray-200 dark:border-gray-800 h-full w-72 sm:w-80 max-w-full shadow-dark-float animate-slide-up",children:e.jsxs("div",{className:"p-6 space-y-1",children:[e.jsx("div",{className:"mb-6 p-4 rounded-xl bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-accent text-black font-bold text-lg",children:((v=s==null?void 0:s.nombre)==null?void 0:v.charAt(0).toUpperCase())??"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-display font-bold text-text-primary",children:(s==null?void 0:s.nombre)??"Sin nombre"}),e.jsx("div",{className:"text-sm text-text-secondary",children:(s==null?void 0:s.legajo)??(s==null?void 0:s.email)??""})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-text-secondary font-semibold px-3 py-2",children:"Navegación"}),s.rol==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(i,{href:"/admin",text:"Admin Panel",icon:"🚀"}),e.jsx(i,{href:"/admin/users",text:"Usuarios",icon:"👥"}),e.jsx(i,{href:"/admin/calendar",text:"Calendario",icon:"📅"}),e.jsx(i,{href:"/admin/organigrama",text:"Organigrama",icon:"🏢"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{href:"/user",text:"User Panel",icon:"👤"}),e.jsx(i,{href:"/user/calendar",text:"Calendario",icon:"📅"}),e.jsx(i,{href:"/user/organigrama",text:"Organigrama",icon:"🏢"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-text-secondary font-semibold px-3 py-2",children:"Cuenta"}),e.jsx(i,{href:"/profile",text:"Mi Perfil",icon:"👤"}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 rounded-xl bg-secondary",children:[e.jsxs("span",{className:"flex items-center gap-3 text-text-primary",children:[e.jsx("span",{className:"text-lg",children:"🌓"}),e.jsx("span",{children:"Tema"})]}),e.jsx(p,{mobile:!0})]}),e.jsx(i,{href:"/logout",method:"post",as:"button",text:"Cerrar Sesión",icon:"🚪"})]})]})})]})]}),t&&e.jsx("header",{className:"bg-primary border-b border-gray-200 dark:border-gray-800 shadow-soft",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"animate-fade-in",children:t})})}),e.jsx("main",{className:"flex-1 w-full",children:e.jsx("div",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6",children:e.jsx("div",{className:"animate-fade-in",children:r})})}),e.jsx("div",{className:"md:hidden fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-40",children:e.jsx(p,{floating:!0})})]})}function d({href:t,text:r}){const{url:s}=h(),a=s===t;return e.jsx(g,{href:t,className:`inline-flex items-center px-3 py-2 rounded-xl text-[15px] font-semibold leading-5 transition-all duration-200 hover-lift ${a?"bg-accent text-black shadow-glow":"text-text-secondary hover:text-accent hover:bg-secondary"}`,children:r})}function i({href:t,text:r,icon:s,...a}){const{url:n}=h(),c=n===t;return e.jsxs(g,{href:t,...a,className:`flex items-center gap-3 rounded-xl px-3 py-2.5 sm:px-4 sm:py-3 text-sm sm:text-base font-medium transition-all duration-200 ${c?"bg-accent text-black shadow-glow":"text-text-secondary hover:bg-secondary hover:text-accent"}`,children:[s&&e.jsx("span",{className:"text-lg",children:s}),e.jsx("span",{children:r}),c&&e.jsx("span",{className:"ml-auto text-sm",children:"•"})]})}export{A};
