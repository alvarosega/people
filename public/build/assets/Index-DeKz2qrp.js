import{j as e,L as f,r as g,c as _,H as $,b as v}from"./app-BKfOqTMF.js";import{A as L}from"./AuthenticatedLayout-C2R_dg5o.js";import{c as m}from"./createLucideIcon-CkFK_HPH.js";import{P as w}from"./plus-sEVP3BWm.js";import{U}from"./upload-BlJwprxu.js";import{D as R}from"./download-d8FVR27l.js";import{U as x}from"./user-BkSpUicO.js";import{M as E,S as q}from"./shield-HqSE9NlU.js";import"./transition-BC6w5YbO.js";import"./ThemeToggle-DVrhrRCS.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],D=m("briefcase",F);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V=m("check",T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B=m("chevron-left",I);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P=m("chevron-right",H);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],k=m("ellipsis",z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],S=m("map-pin",A);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],O=m("square-pen",G);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],K=m("trash-2",J);function Q({links:t}){if(!t||t.length===0)return null;const a=t.filter(l=>l&&l.label);if(a.length<=3)return null;const r=X(a),i=Y(a);return e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 px-4 sm:px-0",children:[e.jsxs("div",{className:"hidden sm:block text-sm text-text-secondary",children:["Mostrando página ",r," de ",i]}),e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a[0]&&e.jsx(j,{link:a[0],isMobile:!0,title:"Página anterior",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("div",{className:"hidden xs:flex items-center space-x-1",children:W(a,r,i)}),e.jsxs("div",{className:"xs:hidden flex items-center space-x-2 text-sm text-text-secondary px-3 py-2",children:[e.jsx("span",{children:r}),e.jsx("span",{className:"text-text-secondary/50",children:"de"}),e.jsx("span",{children:i})]}),a[a.length-1]&&e.jsx(j,{link:a[a.length-1],isMobile:!0,title:"Página siguiente",children:e.jsx(P,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"sm:hidden text-xs text-text-secondary/70 text-center",children:["Total de páginas: ",i]})]})}function j({link:t,children:a,isMobile:r=!1,title:i=""}){const l=`
        flex items-center justify-center min-w-[40px] h-10 px-3 text-sm font-medium rounded-soft
        transition-all duration-200 border border-transparent
        disabled:opacity-40 disabled:cursor-not-allowed
    `,o=`
        bg-gradient-to-r from-accent to-accent-gold text-black border-yellow-400
        shadow-lg shadow-yellow-500/25 hover:shadow-yellow-500/40
    `,c=`
        bg-white/5 backdrop-blur-sm border-white/10 text-text-primary 
        hover:bg-white/10 hover:border-white/20 hover:scale-105
    `,h=`
        bg-white/2 border-white/5 text-text-secondary/40
        cursor-not-allowed hover:scale-100
    `;return t.url?e.jsx(f,{href:t.url,preserveScroll:!0,preserveState:!0,className:`${l} ${t.active?o:c} ${r?"min-w-[50px]":""}`,title:i,children:a||t.label}):e.jsx("span",{className:`${l} ${h}`,title:i,children:a||t.label})}function W(t,a,r){const i=[];a>1&&i.push(e.jsx(j,{link:t[0]},"first"));let l=Math.max(2,a-1),o=Math.min(r-1,a+1);r>5?a<=3?o=4:a>=r-2&&(l=r-3):(l=2,o=r-1),l>2&&i.push(e.jsx("span",{className:"px-2 text-text-secondary/50",children:e.jsx(k,{className:"h-4 w-4"})},"ellipsis-start"));for(let c=l;c<=o;c++)c>1&&c<r&&i.push(e.jsx(j,{link:t[c]},c));return o<r-1&&i.push(e.jsx("span",{className:"px-2 text-text-secondary/50",children:e.jsx(k,{className:"h-4 w-4"})},"ellipsis-end")),a<r&&r>1&&i.push(e.jsx(j,{link:t[t.length-1]},"last")),i}function X(t){if(!t.find(i=>i.active))return 1;const r=t.findIndex(i=>i.active);return r===0?1:r===t.length-1?t.length-2:r}function Y(t){return Math.max(1,t.length-2)}function Z({onSearch:t,filters:a,roleOptions:r,regionOptions:i}){const[l,o]=g.useState(a.search||""),[c,h]=g.useState(a.rol||""),[u,b]=g.useState(a.region||""),N=n=>{n.preventDefault(),t(l,c,u)},y=()=>{o(""),h(""),b(""),t("","","")};return e.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("form",{onSubmit:N,className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),e.jsx("input",{type:"text",value:l,onChange:n=>o(n.target.value),placeholder:"Buscar en todos los campos...",className:"w-full p-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"min-w-[150px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),e.jsxs("select",{value:c,onChange:n=>h(n.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Todos"}),r.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:"min-w-[150px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Región"}),e.jsxs("select",{value:u,onChange:n=>b(n.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Todas"}),i.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Buscar"}),e.jsx("button",{type:"button",onClick:y,className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Limpiar"})]})]})})}function de({users:t,filters:a,roles:r,regions:i}){const{props:l}=_(),[o,c]=g.useState([]),[h,u]=g.useState({}),b=(s,d,p)=>{v.get(route("admin.users.index"),{search:s,rol:d,region:p},{preserveState:!0,replace:!0})},N=async s=>{confirm(`¿Estás seguro de que quieres eliminar al usuario ${s.nombre}?`)&&(u(d=>({...d,[s.id]:!0})),await v.delete(route("admin.users.destroy",s.id),{onFinish:()=>{u(d=>{const p={...d};return delete p[s.id],p})}}))},y=()=>{window.location.href=route("admin.users.export")},n=s=>{c(d=>d.includes(s)?d.filter(p=>p!==s):[...d,s])},C=s=>({admin:"from-red-500 to-red-600",manager:"from-blue-500 to-blue-600",supervisor:"from-purple-500 to-purple-600",user:"from-green-500 to-green-600",guest:"from-gray-500 to-gray-600"})[s]||"from-gray-500 to-gray-600",M=s=>({admin:e.jsx(q,{className:"h-3 w-3"}),manager:e.jsx(x,{className:"h-3 w-3"}),supervisor:e.jsx(x,{className:"h-3 w-3"}),user:e.jsx(x,{className:"h-3 w-3"}),guest:e.jsx(x,{className:"h-3 w-3"})})[s]||e.jsx(x,{className:"h-3 w-3"});return e.jsxs(L,{header:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-r from-accent to-accent-gold",children:e.jsx(x,{className:"h-6 w-6 text-black"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-2xl text-text-primary",children:"Gestión de Usuarios"}),e.jsxs("p",{className:"text-text-secondary text-sm",children:[t.total," usuario",t.total!==1?"s":""," en el sistema"]})]})]}),children:[e.jsx($,{title:"Gestión de Usuarios"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-text-primary to-text-secondary bg-clip-text text-transparent",children:"Administración de Usuarios"}),e.jsx("p",{className:"text-text-secondary mt-2 text-sm sm:text-base",children:"Gestiona los usuarios y permisos del sistema"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-end items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:flex gap-3",children:[e.jsxs(f,{href:route("admin.users.create"),className:`inline-flex items-center justify-center gap-2 bg-gradient-to-r from-accent to-accent-gold text-black font-semibold py-3 px-4 sm:px-6 rounded-soft 
                                        shadow-lg shadow-yellow-500/25 hover:shadow-xl hover:shadow-yellow-500/40 
                                        transition-all duration-300 hover:scale-105 active:scale-95 text-sm sm:text-base`,children:[e.jsx(w,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Crear Usuario"})]}),e.jsxs(f,{href:route("admin.users.import.show"),className:`inline-flex items-center justify-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 text-text-primary font-semibold py-3 px-4 sm:px-6 rounded-soft 
                                        hover:bg-white/20 hover:border-white/30 transition-all duration-300 hover:scale-105 active:scale-95 text-sm sm:text-base`,children:[e.jsx(U,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Importar CSV"})]})]}),e.jsxs("button",{onClick:y,className:`inline-flex items-center justify-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 text-text-primary font-semibold py-3 px-4 sm:px-6 rounded-soft 
                                    hover:bg-white/20 hover:border-white/30 transition-all duration-300 hover:scale-105 active:scale-95 text-sm sm:text-base xs:col-span-2 lg:col-span-1`,children:[e.jsx(R,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Exportar CSV"})]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx(Z,{onSearch:b,filters:a,roleOptions:r,regionOptions:i})}),e.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 xs:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:t.data.map(s=>e.jsxs("div",{className:`group relative bg-primary/80 backdrop-blur-sm border border-white/10 rounded-2xl p-6 
                                    transition-all duration-300 hover:border-white/20 hover:bg-primary/90 hover:shadow-2xl hover:scale-105`,children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("button",{onClick:()=>n(s.id),className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center
                                            ${o.includes(s.id)?"bg-accent border-accent":"border-text-secondary/50 hover:border-text-secondary"}`,children:o.includes(s.id)&&e.jsx(V,{className:"h-3 w-3 text-black"})})}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-accent to-accent-gold flex items-center justify-center",children:e.jsx(x,{className:"h-6 w-6 text-black"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-bold text-text-primary truncate",children:s.nombre}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold
                                                bg-gradient-to-r ${C(s.rol)} text-white`,children:[M(s.rol),s.rol]})]}),e.jsxs("p",{className:"text-text-secondary text-sm",children:["Legajo: ",s.legajo]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-3 xs:gap-4 text-sm mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-text-secondary/70"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary text-xs uppercase tracking-wide",children:"Email"}),e.jsx("p",{className:"text-text-secondary truncate",title:s.email,children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-text-secondary/70"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary text-xs uppercase tracking-wide",children:"Región"}),e.jsx("p",{className:"text-text-secondary",children:s.region})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-text-secondary/70"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary text-xs uppercase tracking-wide",children:"Territorio"}),e.jsx("p",{className:"text-text-secondary",children:s.territorio})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-text-secondary/70"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary text-xs uppercase tracking-wide",children:"Puesto"}),e.jsx("p",{className:"text-text-secondary",children:s.puesto})]})]})]}),e.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center justify-between gap-3 xs:gap-2 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"text-xs text-text-secondary/60 text-center xs:text-left",children:["Creado: ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center justify-center xs:justify-end gap-2",children:[e.jsx(f,{href:route("admin.users.edit",s.id),className:`p-2 rounded-soft bg-white/5 hover:bg-accent/20 text-text-secondary hover:text-accent 
                                                transition-all duration-200 hover:scale-110 flex-shrink-0`,title:"Editar usuario",children:e.jsx(O,{className:"h-4 w-4"})}),s.rol!=="admin"&&e.jsx("button",{onClick:()=>N(s),disabled:h[s.id],className:`p-2 rounded-soft bg-white/5 hover:bg-red-500/20 text-text-secondary hover:text-red-400 
                                                    transition-all duration-200 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0`,title:"Eliminar usuario",children:h[s.id]?e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):e.jsx(K,{className:"h-4 w-4"})})]})]})]},s.id))}),t.data.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-2xl bg-white/5 flex items-center justify-center",children:e.jsx(x,{className:"h-12 w-12 text-text-secondary/50"})}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"No se encontraron usuarios"}),e.jsx("p",{className:"text-text-secondary mb-6",children:"Intenta ajustar los filtros de búsqueda"}),e.jsxs(f,{href:route("admin.users.create"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-accent to-accent-gold text-black font-semibold py-2 px-6 rounded-soft",children:[e.jsx(w,{className:"h-4 w-4"}),"Crear primer usuario"]})]}),t.data.length>0&&e.jsx("div",{className:"mt-8",children:e.jsx(Q,{links:t.links})})]})})]})}export{de as default};
